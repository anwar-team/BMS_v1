
###  1. جدول المؤلفين (authors) 
**الوصف**: يحتوي على معلومات المؤلفين   

|      العمود       | المطلوب |       ملاحظات       |
| :---------------: | :-----: | :-----------------: |
|       `id`        |         |     Primary Key     |
|    `full_name`    |    d    |    `Author.name`    |
|    `biography`    |    x    | `Author.biography`  |
|     `madhhab`     |    x    |  `Author.madhhab`   |
|    `is_living`    |    x    |    Default: true    |
| `birth_year_type` |    x    | Default: gregorian  |
|   `birth_year`    |    x    | `Author.birth_date` |
| `death_year_type` |    x    | Default: gregorian  |
|   `death_year`    |    x    | `Author.death_date` |
|   `birth_date`    |    x    |          -          |
|   `death_date`    |    x    |          -          |
|   `created_at`    |    x    |          -          |
|   `updated_at`    |    x    |          -          |
|       slug        |    d    |    `Author.slug`    |


### 2. جدول أقسام الكتب (book_sections)
**الوصف**: يحتوي على تصنيفات الكتب

|    العمود     | المطلوب |          ملاحظات          |
| :-----------: | :-----: | :-----------------------: |
|    `name`     |    d    |    `BookSection.name`     |
|    `slug`     |    d    |    `BookSection.slug`     |
|  `parent_id`  |    x    |  `BookSection.parent_id`  |
| `description` |    x    | `BookSection.description` |
| `created_at`  |    x    |             -             |
| `updated_at`  |    x    |             -             |

### 3. جدول الناشرين (publishers)
**الوصف**: يحتوي على معلومات دور النشر

|    العمود     | مطلوب |         ملاحظات         |
| :-----------: | :---: | :---------------------: |
|     `id`      |       |       Primary Key       |
|    `name`     |   d   |    `Publisher.name`     |
|    `slug`     |   d   |    `Publisher.slug`     |
|  `location`   |   d   |   `Publisher.address`   |
| `description` |   x   | `Publisher.description` |
|   `address`   |   x   |            -            |
|    `image`    |   x   |            -            |
| `created_at`  |   x   |            -            |
| `updated_at`  |   x   |            -            |

### 4. جدول الكتب (books)
**الوصف**: الجدول الرئيسي للكتب

|          العمود           |         مطلوب          |            ملاحظات             |
| :-----------------------: | :--------------------: | :----------------------------: |
|           `id`            |                        |          Primary Key           |
|          `title`          |           d            |          `Book.title`          |
|       `description`       |           d            |       `Book.description`       |
|          `slug`           |           d            |          `Book.slug`           |
|       `cover_image`       |           x            |               -                |
|     `published_year`      |           x            |    `Book.publication_year`     |
|        `publisher`        |                        | **مهمل - استخدم publisher_id** |
|       `pages_count`       |           d            |       `len(Book.pages)`        |
|      `volumes_count`      |           d            |      `Book.volume_count`       |
|         `status`          |           d            |      Default: 'published'      |
|       `visibility`        |           x            |       Default: 'public'        |
|       `source_url`        |           d            |       `Book.source_url`        |
|     `book_section_id`     |           d            | Foreign Key → book_sections.id |
|      `publisher_id`       |           d            |  Foreign Key → publishers.id   |
|         `edition`         |           d            |     `Book.edition_number`      |
|      `edition_DATA`       | d<br>convert it to int |   `Book.edition_date_hijri`    |
|       `shamela_id`        |           d            |       `Book.shamela_id`        |
| `has_original_pagination` |           d            | `Book.has_original_pagination` |
|        `language`         |           x            |        `Book.language`         |
|       `created_at`        |           x            |               -                |
|       `updated_at`        |           x            |               -                |

### 5. جدول ربط المؤلفين بالكتب (author_book)
**الوصف**: جدول Many-to-Many للربط بين المؤلفين والكتب

|    العمود    | مطلوب |         ملاحظات          |
| :----------: | :---: | :----------------------: |
|     `id`     |       |       Primary Key        |
| `author_id`  |   d   | Foreign Key → authors.id |
|  `book_id`   |   d   |  Foreign Key → books.id  |
|    `role`    |   d   |   default  ' author '    |
| `created_at` |   x   |            -             |
| `updated_at` |   x   |            -             |

### 6. جدول الأجزاء (volumes)
**الوصف**: يحتوي على أجزاء الكتب

|    العمود    | مطلوب |        ملاحظات         |
| :----------: | :---: | :--------------------: |
|     `id`     |       |      Primary Key       |
|  `book_id`   |   d   | Foreign Key → books.id |
|   `number`   |   d   |    `Volume.number`     |
|   `title`    |   d   |     `Volume.title`     |
| `page_start` |   d   |  `Volume.page_start`   |
|  `page_end`  |   d   |   `Volume.page_end`    |
| `created_at` |   x   |           -            |
| `updated_at` |   x   |           -            |

### 7. جدول الفصول (chapters)
**الوصف**: يحتوي على فصول الكتب


|     العمود     |        مطلوب        |         ملاحظات          |
| :------------: | :-----------------: | :----------------------: |
|      `id`      |                     |       Primary Key        |
|  `volume_id`   |          d          | Foreign Key → volumes.id |
|   `book_id`    |          d          |  Foreign Key → books.id  |
|    `title`     |          d          |     `Chapter.title`      |
|  `parent_id`   |          d          |   `Chapter.parent_id`    |
|    `order`     |          d          |     `Chapter.order`      |
|  `page_start`  |          d          |  `Chapter.page_number`   |
|   `page_end`   |          d          |    `Chapter.page_end`    |
| `chapter_type` | just keept in jason |  `Chapter.chapter_type`  |
|    `level`     |          d          |     `Chapter.level`      |
|  `created_at`  |          x          |            -             |
|  `updated_at`  |          x          |            -             |

### 8. جدول الصفحات (pages)
**الوصف**: يحتوي على محتوى صفحات الكتب

|         العمود         |                                                              مطلوب                                                               |              ملاحظات               |
| :--------------------: | :------------------------------------------------------------------------------------------------------------------------------: | :--------------------------------: |
|          `id`          |                                                                                                                                  |            Primary Key             |
|       `book_id`        |                                                                d                                                                 |       Foreign Key → books.id       |
|      `volume_id`       |                                                                d                                                                 |      Foreign Key → volumes.id      |
|      `chapter_id`      |                                                                d                                                                 |     Foreign Key → chapters.id      |
|     `page_number`      |                                                                d                                                                 |     `PageContent.page_number`      |
|       `content`        |                                                                d                                                                 |       `PageContent.content`        |
|     `content_type`     |                                                                x                                                                 |    text, html, markdown, mixed     |
|     `content_hash`     |                                                                x                                                                 |         للتحقق من التكرار          |
|      `word_count`      |                                                                x                                                                 |      `PageContent.word_count`      |
|   `character_count`    |                                                                x                                                                 |                 -                  |
|    `has_footnotes`     |                                                                x                                                                 |                 -                  |
|      `has_images`      |                                                                x                                                                 |                 -                  |
|      `has_tables`      |                                                                x                                                                 |                 -                  |
|   `formatting_info`    |                                                                x                                                                 |                 -                  |
|      `plain_text`      |                                                                x                                                                 |            للبحث النصي             |
| `reading_time_minutes` |                                                                x                                                                 |                 -                  |
| `original_page_number` |                                                                x                                                                 | `PageContent.original_page_number` |
|    `internal_index`    | اعمله فلداتا بيس عبار عن رقم التسلسلي للصفحه  من 1 ل اخر اخر صفحه بالكتاب بنضاف للكتب الي بتكون "has_original_pagination": true, | `PageContent.page_index_internal`  |
|   `printed_missing`    |                                                                x                                                                 |   `PageContent.printed_missing`    |
|      `created_at`      |                                                                x                                                                 |                 -                  |
|      `updated_at`      |                                                                x                                                                 |                 -                  |
