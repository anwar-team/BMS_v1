# ๐ ุณูุฑุจุช ุงุณุชุฎุฑุงุฌ ุงูููุชุจุฉ ุงูุดุงููุฉ ุงููุญุณู
## Enhanced Shamela Scraper v2.0

ุณูุฑุจุช Python ูุญุณู ูุณุฑูุน ูุงุณุชุฎุฑุงุฌ ุงููุชุจ ูู [ุงูููุชุจุฉ ุงูุดุงููุฉ](https://shamela.ws) ูุน ุฏุนู ูุงูู ููุงุนุฏุฉ ุจูุงูุงุช Laravel.

## โจ ุงููููุฒุงุช ุงูุฑุฆูุณูุฉ

### ๐ ุงูุฃุฏุงุก ูุงูุณุฑุนุฉ
- **ุงุณุชุฎุฑุงุฌ ูุชูุงุฒู**: ุงุณุชุฎุฑุงุฌ ุนุฏุฉ ุตูุญุงุช ูู ููุณ ุงูููุช
- **ูุนุงูุฌุฉ ุฐููุฉ ููุฃุฎุทุงุก**: ุฅุนุงุฏุฉ ุงููุญุงููุฉ ุงูุชููุงุฆูุฉ ุนูุฏ ูุดู ุงูุทูุจุงุช
- **ุชุญุณูู ุงูุฐุงูุฑุฉ**: ุงุณุชุฎุฏุงู ูุนุงู ููุฐุงูุฑุฉ ุญุชู ูุน ุงููุชุจ ุงููุจูุฑุฉ
- **ุณุฑุนุฉ ุนุงููุฉ**: ุงุณุชุฎุฑุงุฌ ูุชุงุจ ูู 800 ุตูุญุฉ ูู ุฃูู ูู ุฏูููุชูู

### ๐ ุฏุนู ุดุงูู ูููุญุชูู
- **ุจุทุงูุฉ ุงููุชุงุจ**: ุงุณุชุฎุฑุงุฌ ูุงูู ููุนูููุงุช ุงููุชุงุจ (ุงูุนููุงูุ ุงููุคููุ ุงููุงุดุฑุ ุงูุทุจุนุฉ)
- **ุงูููุฑุณ**: ุงุณุชุฎุฑุงุฌ ููุฑุณ ุงูููุถูุนุงุช ูุน ุฃุฑูุงู ุงูุตูุญุงุช
- **ุงูุฃุฌุฒุงุก ูุงููุฌูุฏุงุช**: ุงูุชุดุงู ุชููุงุฆู ููุฃุฌุฒุงุก ููุทุงูุงุช ุงูุตูุญุงุช
- **ุงูุชุฑููู ุงูุฃุตูู**: ุฏุนู ุงููุชุจ ุฐุงุช ุงูุชุฑููู ุงูููุงูู ูููุทุจูุน
- **ุงูุตูุญุงุช**: ุงุณุชุฎุฑุงุฌ ูุงูู ููุญุชูู ุงูุตูุญุงุช ูุน ุชูุธูู ุงููุตูุต

### ๐๏ธ ุชูุงูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
- **Laravel ูุชูุงูู**: ุญูุธ ูุจุงุดุฑ ูู ูุงุนุฏุฉ ุจูุงูุงุช Laravel
- **ุนูุงูุงุช ุฐููุฉ**: ุฑุจุท ุชููุงุฆู ูููุคูููู ูุงููุงุดุฑูู ุงูููุฌูุฏูู
- **ูููู ูุญุณู**: ุญูุธ ููุธู ูููุชุจ ูุงูุฃุฌุฒุงุก ูุงููุตูู ูุงูุตูุญุงุช
- **ูุนุงูุฌุฉ ุงูุชูุฑุงุฑ**: ุชุฌูุจ ุชูุฑุงุฑ ุงูุจูุงูุงุช

## ๐ ุงููุชุทูุจุงุช

### ูุชุทูุจุงุช Python
```bash
pip install aiohttp beautifulsoup4 mysql-connector-python python-slugify lxml
```

### ูุชุทูุจุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
- MySQL 5.7+ ุฃู MariaDB 10.2+
- Laravel migrations ูุทุจูุฉ ุจุดูู ุตุญูุญ

## ๐ ุงูุชุซุจูุช ูุงูุฅุนุฏุงุฏ

### 1. ุชุญููู ุงููููุงุช
```bash
cd /path/to/your/laravel/project/script/
git clone <repository-url> shamela_enhanced_scraper
cd shamela_enhanced_scraper
```

### 2. ุชุซุจูุช ุงููุชุทูุจุงุช
```bash
pip install -r requirements.txt
```

### 3. ุฅุนุฏุงุฏ ูุงุนุฏุฉ ุงูุจูุงูุงุช
ุชุฃูุฏ ูู ุชุญุฏูุซ ููู `config.py` ุจูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช:

```python
DB_CONFIG = {
    'host': 'localhost',
    'user': 'your_username',
    'password': 'your_password',
    'database': 'your_database',
    'charset': 'utf8mb4',
    'autocommit': True
}
```

## ๐ ุทุฑู ุงูุงุณุชุฎุฏุงู

### 1. ูุงุฌูุฉ ุณุทุฑ ุงูุฃูุงูุฑ (CLI)

#### ุงุณุชุฎุฑุงุฌ ูุชุงุจ ูุงุญุฏ
```bash
python shamela_cli.py --book-id 30151
```

#### ุงุณุชุฎุฑุงุฌ ุจุฏูู ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
```bash
python shamela_cli.py --book-id 30151 --no-save
```

#### ุงุณุชุฎุฑุงุฌ ุงูุตูุญุงุช ููุท
```bash
python shamela_cli.py --book-id 30151 --pages-only
```

#### ุงุณุชุฎุฑุงุฌ ุนุฏุฉ ูุชุจ
```bash
python shamela_cli.py --book-ids 30151,1680,5678
```

#### ุญูุธ ุงููุชุงุฆุฌ ูู ูุฌูุฏ ูุญุฏุฏ
```bash
python shamela_cli.py --book-id 30151 --output ./output
```

### 2. ุงูุงุณุชุฎุฏุงู ุงูุจุฑูุฌู

#### ุงุณุชุฎุฑุงุฌ ูุชุงุจ ูุงูู
```python
import asyncio
from shamela_scraper_enhanced import scrape_book

async def main():
    # ุงุณุชุฎุฑุงุฌ ูุน ุญูุธ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
    book = await scrape_book('30151', save_to_db=True)
    print(f"ุชู ุงุณุชุฎุฑุงุฌ: {book.title}")
    print(f"ุนุฏุฏ ุงูุตูุญุงุช: {len(book.pages)}")

asyncio.run(main())
```

#### ุงุณุชุฎุฑุงุฌ ููููุงุช ูุญุฏุฏุฉ
```python
import asyncio
from shamela_scraper_enhanced import EnhancedShamelaExtractor

async def main():
    async with EnhancedShamelaExtractor() as extractor:
        # ุงุณุชุฎุฑุงุฌ ุจุทุงูุฉ ุงููุชุงุจ
        card = await extractor.extract_book_card('30151')
        print(f"ุงูุนููุงู: {card.title}")
        print(f"ุงููุคูู: {card.author}")
        
        # ุงุณุชุฎุฑุงุฌ ุงูููุฑุณ
        chapters = await extractor.extract_book_index('30151')
        print(f"ุนุฏุฏ ุงููุตูู: {len(chapters)}")
        
        # ุงูุชุดุงู ุงูุฃุฌุฒุงุก
        volumes, max_page = await extractor.detect_volumes_and_pages('30151')
        print(f"ุนุฏุฏ ุงูุฃุฌุฒุงุก: {len(volumes)}")
        print(f"ุฅุฌูุงูู ุงูุตูุญุงุช: {max_page}")

asyncio.run(main())
```

## ๐๏ธ ูููู ุงููุดุฑูุน

```
shamela_enhanced_scraper/
โโโ shamela_scraper_enhanced.py    # ุงูููุฏ ุงูุฑุฆูุณู ููุณูุฑุจุช
โโโ shamela_cli.py                 # ูุงุฌูุฉ ุณุทุฑ ุงูุฃูุงูุฑ
โโโ config.py                      # ุฅุนุฏุงุฏุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช
โโโ requirements.txt               # ูุชุทูุจุงุช Python
โโโ README.md                      # ูุฐุง ุงูููู
โโโ examples/                      # ุฃูุซูุฉ ููุงุณุชุฎุฏุงู
    โโโ basic_usage.py
    โโโ batch_processing.py
    โโโ custom_extraction.py
```

## ๐ ุงูุฃุฏุงุก ูุงูุฅุญุตุงุฆูุงุช

### ูุนุฏูุงุช ุงูุงุณุชุฎุฑุงุฌ
- **ูุชุงุจ ุตุบูุฑ** (< 100 ุตูุญุฉ): 10-20 ุซุงููุฉ
- **ูุชุงุจ ูุชูุณุท** (100-500 ุตูุญุฉ): 30-60 ุซุงููุฉ  
- **ูุชุงุจ ูุจูุฑ** (500-1000 ุตูุญุฉ): 1-2 ุฏูููุฉ
- **ูุชุงุจ ุถุฎู** (> 1000 ุตูุญุฉ): 2-5 ุฏูุงุฆู

### ุงุณุชููุงู ุงูููุงุฑุฏ
- **ุงูุฐุงูุฑุฉ**: 50-200 MB ุญุณุจ ุญุฌู ุงููุชุงุจ
- **ุงูุดุจูุฉ**: 5-10 ุทูุจุงุช ูุชูุงุฒูุฉ
- **ุงููุนุงูุฌ**: ุงุณุชุฎุฏุงู ูุชูุณุท ุฃุซูุงุก ุงููุนุงูุฌุฉ

## ๐ง ุงูุฅุนุฏุงุฏุงุช ุงููุชูุฏูุฉ

### ุชุฎุตูุต ุฅุนุฏุงุฏุงุช ุงูุงุณุชุฎุฑุงุฌ
```python
# ูู ููู config.py
EXTRACTION_CONFIG = {
    'max_concurrent_requests': 10,    # ุนุฏุฏ ุงูุทูุจุงุช ุงููุชูุงุฒูุฉ
    'request_delay': 0.1,            # ุงูุชุฃุฎูุฑ ุจูู ุงูุทูุจุงุช (ุซุงููุฉ)
    'retry_attempts': 3,             # ุนุฏุฏ ูุญุงููุงุช ุงูุฅุนุงุฏุฉ
    'timeout': 30,                   # ูููุฉ ุงูุชุธุงุฑ ุงูุทูุจ (ุซุงููุฉ)
    'batch_size': 5,                 # ุญุฌู ุฏูุนุฉ ุงูุตูุญุงุช
}
```

### ุชุฎุตูุต ูุนุงูุฌุฉ ุงููุตูุต
```python
# ุชุฎุตูุต ุชูุธูู ุงููุตูุต
def custom_text_cleaner(text: str) -> str:
    # ุฅุถุงูุฉ ููุงุนุฏ ุชูุธูู ูุฎุตุตุฉ
    text = re.sub(r'ููุท_ูุฎุตุต', 'ุจุฏูู', text)
    return text

# ุงุณุชุฎุฏุงู ุงูููุธู ุงููุฎุตุต
extractor.text_cleaner = custom_text_cleaner
```

## ๐ ุงุณุชูุดุงู ุงูุฃุฎุทุงุก ูุฅุตูุงุญูุง

### ุงูุฃุฎุทุงุก ุงูุดุงุฆุนุฉ

#### ุฎุทุฃ ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช
```
mysql.connector.errors.ProgrammingError: 1045 (28000): Access denied
```
**ุงูุญู**: ุชุญูู ูู ูุนูููุงุช ูุงุนุฏุฉ ุงูุจูุงูุงุช ูู `config.py`

#### ุฎุทุฃ ุนููุฏ ุบูุฑ ููุฌูุฏ
```
Unknown column 'column_name' in 'INSERT INTO'
```
**ุงูุญู**: ุชุฃูุฏ ูู ุชุทุจูู ุฌููุน migrations ูู Laravel

#### ุฎุทุฃ ุงูุชูุงุก ุงููููุฉ ุงูุฒูููุฉ
```
aiohttp.ServerTimeoutError
```
**ุงูุญู**: ุฒูุงุฏุฉ ูููุฉ `timeout` ูู ุงูุฅุนุฏุงุฏุงุช

### ุชูุนูู ุงูุณุฌูุงุช ุงูุชูุตูููุฉ
```python
import logging
logging.basicConfig(level=logging.DEBUG)
```

## ๐ค ุงููุณุงููุฉ

ูุฑุญุจ ุจุงููุณุงููุงุช! ูุฑุฌู:

1. ุนูู Fork ูููุดุฑูุน
2. ุฅูุดุงุก branch ุฌุฏูุฏ ููููุฒุฉ
3. ุฅุถุงูุฉ ุงูุงุฎุชุจุงุฑุงุช ุงูููุงุณุจุฉ
4. ุฅุฑุณุงู Pull Request

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช ุฑุฎุตุฉ MIT. ุฑุงุฌุน ููู `LICENSE` ููุชูุงุตูู.

## ๐ ุงูุดูุฑ ูุงูุชูุฏูุฑ

- ูุฑูู [ุงูููุชุจุฉ ุงูุดุงููุฉ](https://shamela.ws) ูุชูููุฑ ูุฐุง ุงูููุฑุฏ ุงูููู
- ูุฌุชูุน Python ู Laravel ููุฃุฏูุงุช ุงูุฑุงุฆุนุฉ
- ุฌููุน ุงููุณุงูููู ูู ุชุทููุฑ ูุฐุง ุงูุณูุฑุจุช

## ๐ ุงูุฏุนู ูุงูุชูุงุตู

- **Issues**: [GitHub Issues](https://github.com/your-repo/issues)
- **Discussions**: [GitHub Discussions](https://github.com/your-repo/discussions)
- **Email**: your-email@example.com

---

**ููุงุญุธุฉ**: ูุฐุง ุงูุณูุฑุจุช ูุฎุตุต ููุงุณุชุฎุฏุงู ุงูุชุนูููู ูุงูุจุญุซู. ูุฑุฌู ุงุญุชุฑุงู ุญููู ุงูุทุจุน ูุงููุดุฑ ูุดุฑูุท ุงุณุชุฎุฏุงู ุงูููุชุจุฉ ุงูุดุงููุฉ.